---
title: "Introducci√≥n a la Visualizaci√≥n "
format:
  html:
    toc: true
    toc-depth: 2
    code-fold: true
---




<img src="https://cdn-icons-png.flaticon.com/256/11232/11232292.png" width = "250" align="center"/>


La visualizaci√≥n de datos es una herramienta poderosa en el campo de la 
ciencia de datos y el an√°lisis de datos que permite representar informaci√≥n
de manera gr√°fica y comprensible. A trav√©s de gr√°ficos, diagramas 
y otras representaciones visuales, la visualizaci√≥n de datos ayuda a identificar patrones,
tendencias y relaciones en los datos, facilitando la interpretaci√≥n y 
la toma de decisiones basadas en evidencia.

## Motivaci√≥n

Aprender sobre visualizaci√≥n es importante por varias razones:

**Comunicar informaci√≥n compleja de manera clara y efectiva**

Al presentar datos de una manera visual, es m√°s f√°cil identificar patrones y tendencias, as√≠ como tambi√©n hacer comparaciones y contrastes. Esto es especialmente importante cuando se trabaja con grandes conjuntos de datos o cuando se trata de presentar informaci√≥n a un p√∫blico diverso.

**Descubrir informaci√≥n oculta o desconocida**

A menudo, los datos pueden contener patrones o relaciones que no son obvios a simple vista, pero que pueden ser descubiertos mediante la exploraci√≥n y la visualizaci√≥n. La visualizaci√≥n tambi√©n puede ayudar a identificar errores y anomal√≠as en los datos, lo que puede ser importante para la toma de decisiones y la planificaci√≥n.

**Mejorar la capacidad de an√°lisis de datos**

Al comprender c√≥mo presentar datos de manera efectiva, se puede desarrollar una mejor comprensi√≥n de los datos y las relaciones que existen entre ellos. Esto puede ayudar a tomar decisiones informadas basadas en datos y a identificar tendencias y oportunidades que de otra manera podr√≠an haber pasado desapercibidas.

### Malos Gr√°ficos

<img src="https://raw.githubusercontent.com/fralfaro/MAT281_2022/main/docs/lectures/data_manipulation/visualization/images/Fox1.png" width = "500" align="center"/>


<img src="https://raw.githubusercontent.com/fralfaro/MAT281_2022/main/docs/lectures/data_manipulation/visualization/images/male_height.jpg" width = "500" align="center"/>

### Buenos Gr√°ficos

<img src="https://cdn.slingshotapp.io/wp-content/uploads/2021/12/1.slingshot-marketing-performance-data-visualization-example-768x485.png" width = "600" align="center"/>




### Primeras visualizaciones

**Campa√±a de Napole√≥n a Mosc√∫ (Charles Minard, 1889)**

Gr√°fico que muestra el n√∫mero de las fuerzas francesas en su marcha hacia Mosc√∫ y durante la retirada, por Charles Minard. Tambi√©n contiene informaci√≥n ambiental como la temperatura por fecha.

<img src="https://raw.githubusercontent.com/fralfaro/MAT281_2022/main/docs/lectures/data_manipulation/visualization/images/Napoleon.png" width = "600" align="center"/>

**Mapa del c√≥lera (John Snow, 1855)**

Gr√°fico que muestra los casos de c√≥lera durante la epidemia en Londres de 1854 y Las cruces la ubicaci√≥n de las bombas de agua.

<img src="https://raw.githubusercontent.com/fralfaro/MAT281_2022/main/docs/lectures/data_manipulation/visualization/images/Colera.png" width = "600" align="center"/>

## ¬øPor qu√© utilizar gr√°ficos?

* El 70 % de los receptores sensoriales del cuerpo humano est√° dedicado a la visi√≥n.
* Cerebro ha sido entrenado evolutivamente para interpretar la informaci√≥n visual de manera masiva.

    _‚ÄúThe eye and the visual cortex of the brain form a massively
    parallel processor that provides the highest bandwidth channel
    into human cognitive centers‚Äù
    ‚Äî Colin Ware, Information Visualization, 2004._

### Cuarteto de ANSCOMBE 

El **Cuarteto de Anscombe** es un conjunto de cuatro conjuntos de datos que tienen las mismas estad√≠sticas descriptivas (medias, varianzas, correlaciones y regresiones), pero que se ven muy diferentes cuando se visualizan. Fueron presentados por el estad√≠stico Francis Anscombe en 1973 para demostrar la importancia de la visualizaci√≥n en el an√°lisis de datos.

Los cuatro conjuntos de datos consisten en pares de variables **x** e **y**, y cada conjunto representa un tipo diferente de relaci√≥n entre las variables. A simple vista, los cuatro conjuntos parecen tener distribuciones y relaciones completamente diferentes entre s√≠, pero cuando se analizan las estad√≠sticas descriptivas, todas son id√©nticas.

**Estad√≠sticos**

<img src="https://matemelga.wordpress.com/wp-content/uploads/2018/11/canscombe.jpg" width = "400" align="center"/>


**Gr√°ficos**

<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Anscombe.svg/1200px-Anscombe.svg.png" width = "600" align="center"/>



## Teor√≠a de visualizaci√≥n

La **teor√≠a de visualizaci√≥n** se refiere a la investigaci√≥n y el estudio de c√≥mo las personas procesan, interpretan y comprenden informaci√≥n visual. La visualizaci√≥n puede involucrar cualquier tipo de informaci√≥n que pueda ser representada visualmente, incluyendo gr√°ficos, diagramas, mapas, fotograf√≠as y videos.

Algunos de los conceptos y principios importantes en la teor√≠a de visualizaci√≥n incluyen:

* **Percepci√≥n visual**: C√≥mo procesamos y entendemos la informaci√≥n visual a trav√©s de nuestros sentidos.


* **Cognici√≥n visual**: C√≥mo procesamos y entendemos la informaci√≥n visual a trav√©s de nuestros procesos mentales, como la atenci√≥n, la memoria y la toma de decisiones.


* **Dise√±o visual**: C√≥mo se pueden crear visualizaciones efectivas y atractivas para comunicar informaci√≥n de manera clara y efectiva.


* **Interactividad visual**: C√≥mo las visualizaciones interactivas pueden ayudar a los usuarios a explorar y comprender mejor la informaci√≥n visual.


### Consejos generales

**Noah Iliinsky** es un experto en visualizaci√≥n de datos y ha identificado cuatro pilares fundamentales de la visualizaci√≥n. 

Estos pilares son:

* **Contenido**: El contenido se refiere a la informaci√≥n que se est√° visualizando. Para que la visualizaci√≥n sea efectiva, es importante tener una comprensi√≥n clara del contenido y c√≥mo se relaciona con el objetivo de la visualizaci√≥n.


* **Funci√≥n**: La funci√≥n se refiere al prop√≥sito de la visualizaci√≥n. ¬øQu√© se espera que haga la visualizaci√≥n? ¬øDebe mostrar una tendencia, comparar datos o explorar patrones? Es importante tener en cuenta la funci√≥n de la visualizaci√≥n para asegurarse de que se est√° dise√±ando de manera efectiva.


* **Forma**: La forma se refiere a la apariencia visual de la visualizaci√≥n. Esto incluye cosas como el tipo de gr√°fico o diagrama utilizado, la paleta de colores y la tipograf√≠a. La forma debe ser coherente y legible para que la visualizaci√≥n sea f√°cil de entender.


* **Audiencia**: La audiencia se refiere a las personas que ver√°n la visualizaci√≥n. La comprensi√≥n de la audiencia es esencial para determinar el nivel de detalle y complejidad adecuados para la visualizaci√≥n. La visualizaci√≥n debe ser accesible y comprensible para su audiencia objetivo.

> üîë **Nota**: Se recomienda ver el siguiente [video](https://www.youtube.com/watch?v=nC92wIzpQFE&ab_channel=StarsConf) para profundizar estos conceptos


### Honestidad

El ojo humano no tiene la misma precisi√≥n al estimar distintas atribuciones:

* **Largo**: Bien estimado y sin sesgo, con un factor multiplicativo de 0.9 a 1.1.
* **√Årea**: Subestimado y con sesgo, con un factor multiplicativo de 0.6 a 0.9.
* **Volumen**: Muy subestimado y con sesgo, con un factor multiplicativo de 0.5 a 0.8.

Resulta inadecuado realizar gr√°ficos de datos utilizando √°reas o vol√∫menes si no queda claro la atribuci√≥n utilizada.

<img src="https://raw.githubusercontent.com/fralfaro/MAT281_2022/main/docs/lectures/data_manipulation/visualization/images/Honestidad2.png" width = "500" align="center"/>


Una pseudo-excepci√≥n la constituyen los _pie-chart_ o gr√°ficos circulares,
porque el ojo humano distingue bien √°ngulos y segmentos de c√≠rculo,
y porque es posible indicar los porcentajes respectivos.



<img src="https://www.portent.com/images/2020/03/Pie3.jpg" width = "500" align="center"/>



### Percepci√≥n

No todos los elementos tienen la misma percepci√≥n a
nivel del sistema visual. En particular, el color y la
forma son elementos preatentivos: un color distinto o una forma distinta
se reconocen de manera no conciente.


<img src="https://miro.medium.com/v2/resize:fit:1400/1*dcO-I9tiwbFvH2i_oSb6zA.png" alt="" width="600" align="middle"/>

El sistema visual humano puede estimar con precisi√≥n siguientes atributos visuales:

1. Posici√≥n
2. Largo
3. Pendiente
4. √Ångulo
5. √Årea
6. Volumen
7. Color

### Colormaps

Puesto que la percepci√≥n del color tiene muy baja precisi√≥n, resulta ***inadecuado*** tratar de representar un valor num√©rico con colores.
* ¬øQu√© diferencia num√©rica existe entre el verde y el rojo?
* ¬øQue asociaci√≥n preexistente posee el color rojo, el amarillo y el verde?
* ¬øCon cu√°nta precisi√≥n podemos distinguir valores en una escala de grises?

<img src="https://raw.githubusercontent.com/fralfaro/MAT281_2022/main/docs/lectures/data_manipulation/visualization/images/colormap.png" width = "300" align="center"/>






## Ecosistema de Visualizaci√≥n en R

Para comenzar, [CRAN Task View: Graphics](https://cran.r-project.org/web/views/Graphics.html) ofrece una visi√≥n general de las principales herramientas de visualizaci√≥n disponibles en el lenguaje R, clasificadas seg√∫n tipo de gr√°fico, interactividad y complejidad. En esta secci√≥n, revisaremos las librer√≠as m√°s representativas del ecosistema, sus prop√≥sitos y c√≥mo se complementan entre s√≠.

R ha sido hist√≥ricamente uno de los lenguajes preferidos para an√°lisis y comunicaci√≥n de datos, y esto se refleja en la riqueza de su ecosistema gr√°fico.



### Librer√≠as base y extendidas

* **`base R graphics`**: sistema de gr√°ficos incorporado, permite crear visualizaciones simples r√°pidamente. Ejemplo: `plot(x, y)`.

* **`lattice`**: inspirado en Trellis (S+), permite crear visualizaciones multivariadas con paneles autom√°ticos.

* **`ggplot2`**: parte del `tidyverse`, es uno de los sistemas m√°s populares para crear gr√°ficos est√°ticos y altamente personalizables. Usa una gram√°tica declarativa: `ggplot(data, aes(x, y)) + geom_*()`.

* **`ggridges`, `ggthemes`, `patchwork`, `cowplot`, `ggtext`**: librer√≠as que extienden y mejoran el uso de `ggplot2`.



### Visualizaciones interactivas

Para necesidades interactivas, el ecosistema R ofrece herramientas integradas con HTML/JavaScript a trav√©s de `htmlwidgets`:

* **`plotly`**: permite transformar un gr√°fico `ggplot2` en interactivo con `ggplotly()`, o construir gr√°ficos desde cero. Ideal para dashboards o informes HTML.

* **`highcharter`**: basado en Highcharts.js, orientado a visualizaciones financieras y empresariales.

* **`leaflet`**: mapas interactivos f√°ciles de construir.

* **`echarts4r`**: conexi√≥n directa con la librer√≠a ECharts de Baidu.

* **`dygraphs`, `timevis`, `DT`**: gr√°ficos de series temporales, l√≠neas de tiempo, y tablas interactivas respectivamente.



### Construcci√≥n de dashboards y aplicaciones web

* **`Shiny`**: el equivalente a `Dash` en Python. Permite construir aplicaciones web completas con control de entrada, salidas reactivas, y visualizaciones vivas.

* **`flexdashboard`**: para generar dashboards con Quarto o R Markdown, usando sintaxis minimalista.

* **`Quarto + Shiny`**: puedes incrustar interactividad dentro de documentos HTML, sitios web o presentaciones.

